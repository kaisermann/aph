<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>

<body>

	<script type="text/javascript" src="./dist/aph.js"></script>
	<script type="text/javascript" src="./plugins.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
	<script src="https://rawgit.com/kenwheeler/cash/master/dist/cash.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.js"></script>

	<div style="width: 50px; height: 50px; background: red"></div>
	<span style="color: red; font-size: 18px">KOE</span>
	<span style="color: green; font-size: 18px" id="koe2">KOE2</span>
	<span style="color: blue; font-size: 18px">KOE3</span>

	<script>
		// console.log = function(...args) {
		// 	args.forEach(arg => document.body.innerHTML += arg + '<br>')
		// }

		// aph(document.body)
		// 	.append(
		// 		aph('<div>')
		// 		.classList.add('page-content')
		// 		.append(
		// 			[
		// 				'<header></header>',
		// 				document.createElement('aside'),
		// 				aph('<main>').append(
		// 					aph('<div>')
		// 					.classList.add('main-content')
		// 					.set('textContent', 'Hello wooooorld!')
		// 				),
		// 				aph('<footer>')
		// 			]
		// 		)
		// 	)
		// aph('body').append(['<h1>Heading 1</h1>', '<h2>Heading 2</h2>'])
		//
		// aph(window).addEventListener('click', function() {
		// 	console.log('Window Click')
		// })
		//
		// aph('span')
		// 	.classList.add('test-class')
		// 	.setAttribute('custom-attr', 'test-attr')
		// 	.setAttribute({
		// 		'custom-attr-2': 'test-attr-2',
		// 		'custom-attr-3': 'test-attr-3'
		// 	})
		// 	.style.setProperty({
		// 		color: 'red',
		// 		background: 'pink',
		// 		padding: 10
		// 	})
		// 	.textContent = 'Ooooops'
		aph('body').append([
			aph('<div id="test-id">'),
			aph('<span class="test-class">').repeat(5),
			aph('<h1>Heading 1</h1>').repeat(2),
			aph('<h2 data-attribute="test">Heading 2</h2>').repeat(2),
		])

		const scriptNames = ['aph', 'cash', 'jquery', 'zepto']

		function runFn(fn, i) {
			const t0 = performance.now();
			for (var p = 0; p < 10000; p++) {
				fn()
			}
			const t1 = performance.now();
			return {
				elapsed: t1 - t0,
				name: scriptNames[i]
			}
		}

		function profile(name, arr) {
			console.group(name)
			arr.map(runFn).sort((a, b) => a.elapsed > b.elapsed).forEach((item, i, arr) => {
				console.log(`%c ${item.name} - ${item.elapsed} msecs`, `background: ${item.name === 'aph' ? 'darkGreen; ' : '#777;'}; color: white`)
			})
			console.groupEnd(name)
		}

		profile('id selection', [
			() => aph('#test-id'),
			() => cash('#test-id'),
			() => jQuery('#test-id'),
			() => Zepto('#test-id'),
		])

		profile('class selection', [
			() => aph('.test-class'),
			() => cash('.test-class'),
			() => jQuery('.test-class'),
			() => Zepto('.test-class'),
		])

		profile('element selection', [
			() => aph('h1'),
			() => cash('h1'),
			() => jQuery('h1'),
			() => Zepto('h1'),
		])

		profile('complex selection', [
			() => aph('body h2[data-attribute="test"]'),
			() => cash('body h2[data-attribute="test"]'),
			() => jQuery('body h2[data-attribute="test"]'),
			() => Zepto('body h2[data-attribute="test"]'),
		])
	</script>
</body>

</html>
