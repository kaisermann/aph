!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("aph",n):t.aph=n()}(this,function(){"use strict";function t(t,n){return n=c(n),/^#[\w-]*$/.test(t)?[window[t.slice(1)]]:i(/^\.[\w-]*$/.test(t)?n.getElementsByClassName(t.slice(1)):/^\w+$/.test(t)?n.getElementsByTagName(t):n.querySelectorAll(t))}function n(t,n){for(var e=[],o=0,r=t.length,i=void 0;o<r;o++)if(null!=(i=t[o]))if(i instanceof Node)~e.indexOf(i)||e.push(i);else{if(!(i instanceof NodeList||i instanceof HTMLCollection||i instanceof l||i instanceof Array&&i[0]instanceof Node)){for(var c=void 0,f=0;null==c&&f<t.length;c=t[f++]);return["map","filter","forEach","get","set"].forEach(function(n){t[n]=l.prototype[n]}),t.aph={owner:n},u(t,c,function(t){return t.aph.owner}),console.log(t),t}for(var s=0,p=i.length;s<p;s++)~e.indexOf(i[s])||e.push(i[s])}return new l(e,n.aph.context,{owner:n})}function e(t){return""+t===t}function o(t){return t&&!e(t)&&null!=t.length}function r(t){return null!=t[0]||null!=t[t.length-1]}function i(t,n){return h.slice.call(t,n||0)}function c(n){return n instanceof Node?n:e(n)?t(n,document)[0]:o(n)?n[0]:document}function f(n,r){return e(n)?/<.+>/.test(n)?(a||(a=document.implementation.createHTMLDocument()),a.body.innerHTML=n,a.body.childNodes):t(n,r):n instanceof Node||n===window?[n]:o(n)?n:[]}function u(t,n,e){function o(o){if(null==t[o])try{n[o]instanceof Function?t[o]=function(){var t=arguments,i=this.map(function(e){return n[o].apply(e,t)});return r(i)?i:e?e(this):this}:s(t,o)}catch(n){s(t,o)}}if("object"!=typeof n)n=Object.getPrototypeOf(n),Object.getOwnPropertyNames(n).forEach(o);else for(var i in n)o(i)}function s(t,n){Object.defineProperty(t,n,{get:function(){return this.get(n)},set:function(t){this.set(n,t)}})}function p(t,n,e){return new l(t,n,e)}var a,h=Array.prototype,l=function(t,n,e){this.aph=e||{};for(var o=f(t,this.aph.context=c(n)),r=this.length=o.length;r--;this[r]=o[r]);};l.prototype.forEach=function(t){for(var n=0,e=this.length;n<e&&!1!==t.call(this,this[n],n++););return this},l.prototype.find=function(t){return new l(t,this[0],{owner:this})},l.prototype.asArray=function(){return i(this)},l.prototype.get=function(t){return this.map(function(n){return n[t]})},l.prototype.set=function(t,n){return"object"!=typeof t?this.forEach(function(e){e[t]=n}):this.forEach(function(n){for(var e in t)n[e]=t[e]})},l.prototype.css=function(t,n){return"object"!=typeof t?null==n?this.map(function(n){return getComputedStyle(n)[t]}):this.forEach(function(e){e.style[t]=n}):this.forEach(function(n){for(var e in t)n.style[e]=t[e]})},l.prototype.remove=function(){return this.forEach(function(t){t.parentNode.removeChild(t)})},l.prototype.append=function(t){return this.html(t,function(t,n){t.appendChild(n)})},l.prototype.appendTo=function(t){return new l(t).append(this),this},l.prototype.prepend=function(t){return this.html(t,function(t,n){t.insertBefore(n,t.firstChild)})},l.prototype.prependTo=function(t){return new l(t).prepend(this),this},l.prototype.html=function(t,n){return null==t?this.map(function(t){return t.innerHTML}):(Array.isArray(t)||(t=[t]),t=t.reduce(function(t,n){return o(n)?t.concat(i(n)):(t.push(n),t)},[]),n instanceof Function?this.forEach(function(e){return t.forEach(function(t){return n(e,t)})}):this.forEach(function(n){n.innerHTML="",t.forEach(function(t){n.innerHTML+=e(t)?t:t.outerHTML})}))},p.fn=l.prototype,p.flatWrap=n,p.querySelector=t,["map","filter"].forEach(function(t){p.fn[t]=function(){return n(h[t].apply(this,arguments),this)}});var d=["concat","copyWithin","fill","join","reduce","reduceRight","slice","splice"];return Object.getOwnPropertyNames(h).forEach(function(t){~d.indexOf(t)||null!=p.fn[t]||(p.fn[t]=h[t])}),u(p.fn,document.createElement("div")),p});