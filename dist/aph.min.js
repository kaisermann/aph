!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("aph",n):t.aph=n()}(this,function(){"use strict";function t(t,n){return s.slice.call(t,n||0)}function n(t){return""+t===t}function e(t){return t&&!n(t)&&t.length}function o(n,r){for(var i=[],c=0,u=void 0;c<n.length;c++)e(u=n[c])?i=i.concat(r?o(u,!0):t(u)):i.push(u);return i}function r(n,e){return/^#[\w-]*$/.test(n)?[window[n.slice(1)]]:t(/^\.[\w-]*$/.test(n)?e.getElementsByClassName(n.slice(1)):/^\w+$/.test(n)?e.getElementsByTagName(n):e.querySelectorAll(n))}function i(t){return t instanceof Node?t:n(t)?r(t,document)[0]:e(t)?t[0]:document}function c(o,i){if(n(o)){var c=/<(\w*)\/?>/.exec(o);return c?[document.createElement(c[1])]:r(o,i)}return o instanceof Node||o===window?[o]:Array.isArray(o)?o:e(o)?t(o):[]}function u(t,n,e){return new a(t,n,e)}var s=Array.prototype,f=document.createElement("div"),a=function(t,n,e){this.meta=e||{};for(var o=c(t,this.meta.context=i(n)),r=this.length=o.length;r--;this[r]=o[r]);};a.prototype.forEach=function(t){for(var n=0;n<this.length&&!1!==t.call(this,this[n],n++););return this},a.prototype.find=function(t){return new a(t,this[0],{parent:this})},a.prototype.get=function(n){return+n===n?this[n]:t(this)},a.prototype.append=function(t){return this.html(t,function(t,n){t.appendChild(n)})},a.prototype.appendTo=function(t){return new a(t).append(this),this},a.prototype.prepend=function(t){return this.html(t,function(t,n){t.insertBefore(n,t.firstChild)})},a.prototype.prependTo=function(t){return new a(t).prepend(this),this},a.prototype.html=function(t,e){return void 0===t?this.map(function(t){return t.innerHTML}):(Array.isArray(t)||(t=[t]),t=o(t),console.log(t),"function"==typeof e?this.forEach(function(n){return t.forEach(function(t){return e(n,t)})}):this.forEach(function(e){e.innerHTML="",t.forEach(function(t){e.innerHTML+=n(t)?t:t.outerHTML})}))},a.prototype.attr=function(t,e,o){return o=o||"",n(t)?void 0===e?this.map(function(n){return n.getAttribute(o+t)}):this.forEach(function(n){n.setAttribute(o+t,e)}):this.forEach(function(n){for(var e in t)n.setAttribute(o+e,t[e])})},a.prototype.data=function(t,n){return this.attr(t,n,"data-")},a.prototype.prop=function(t,e){return n(t)?void 0===e?this.map(function(n){return n[t]}):this.forEach(function(n){n[t]=e}):this.forEach(function(n){for(var e in t)n[e]=t[e]})},a.prototype.css=function(t,e){return n(t)?void 0===e?this.map(function(n){return window.getComputedStyle(n)[t]}):this.forEach(function(n){n.style[t]=e}):this.forEach(function(n){for(var e in t)n.style[e]=t[e]})},a.prototype.remove=function(){return this.forEach(function(t){t.parentNode.removeChild(t)})},a.prototype.toggleClass=function(t){return this.forEach(function(n){n.classList.toggle(t)})},a.prototype.addClass=function(){var n=t(arguments);return this.forEach(function(t){t.classList.add.apply(t.classList,n)})},a.prototype.removeClass=function(){var n=t(arguments);return this.forEach(function(t){t.classList.remove.apply(t.classList,n)})},a.prototype.hasClass=function(t,n){return this[n?"every":"some"](function(n){return n.classList.contains(t)})},a.prototype.call=function(n){var e=[],o=t(arguments,1);return this.forEach(function(t,r){(r=t[n].apply(t,o))&&e.push(r)}),e.length?e:this},a.prototype.on=function(t,n){var e=this;return t.split(" ").forEach(function(t){return e.addEventListener(t,n)}),this},a.prototype.off=function(t,n){var e=this;return t.split(" ").forEach(function(t){return e.removeEventListener(t,n)}),this},a.prototype.once=function(t,n){var e=this;return e.on(t,function t(o){n.call(this,o),e.off(o.type,t)})};var p=a.prototype;window.Symbol&&Symbol.iterator&&(p[Symbol.iterator]=p.values=s[Symbol.iterator]);var h=["filter","slice"],l=["concat","join","copyWithin","fill","reduce","reduceRight"].concat(h);Object.getOwnPropertyNames(s).forEach(function(t){-1===l.indexOf(t)&&void 0===p[t]&&(p[t]=s[t])}),h.forEach(function(t){p[t]=function(){return new a(s[t].apply(this,arguments),this.meta.context,{parent:this})}});for(var y in f)p[y]||function(n){f[n]instanceof Function?p[n]=function(){return this.call.apply(this,[n].concat(t(arguments)))}:Object.defineProperty(p,n,{get:function(){return this.prop(n)},set:function(t){this.prop(n,t)}})}(y);return f=null,u.plug=function(t,n){a.prototype[t]=n},u});